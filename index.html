<!DOCTYPE html>
<html>
<head>
	<title>Alarm</title>
</head>
<body>
	<p>Current Time: <span id="currentTime"></span></p>
	<input type="time" id="alarmTime">
	<button onclick="setAlarm();">Set Alarm</button>
	<button onclick="alarmSound.pause();">Stop Alarm</button>

	<script type="text/javascript">
    function currentTime(){
      var now = new Date();

      document.getElementById("currentTime").innerHTML = now.toLocaleTimeString();
    }

    setInterval(currentTime, 1);

    var alarmSound = new Audio("music.mp3");

    function setAlarm() {
      var alarmTime = document.getElementById("alarmTime").value;
			var now = new Date();
      var alarm = new Date(now.toDateString() + " " + alarmTime);

      var timeRemaining = alarm - now;

      setTimeout(playAlarm, timeRemaining);

      document.getElementById("alarmTime").disabled = true;
    }

    function playAlarm() {
      alarmSound.play();

			document.getElementById("alarmTime").disabled = false;
    }
  </script>
</body>
</html>
